@using Bgg.Net.Common.Models;
@using Bgg.Net.Common.Models.Requests;
@using Dgi.Client.Clients;
@inject BggClient _bggClient;

@if (Forum == null || isLoading)
{
    <LoadingComponent />
}
else
{
    foreach (var thread in Forum.Threads.OrderByDescending(x => DateTime.Parse(x.LastPostDate)))
    {
        <div class="row mb-3 thread" style="border-radius:45px">
            <div class="ms-3 my-2">
                <p class="text-extra-small text-end me-5">@DateTime.Parse(thread.PostDate)</p>
                <p>@thread.Subject</p>
                <div class="row">
                    <div class="col-sm">
                        By: <span class="fst-italic">@thread.Author</span>
                    </div>
                    <div class="text-extra-small col-sm text-end">
                        Last Post: <span class="fst-italic me-5">@GetDaysApart(DateTime.Now, DateTime.Parse(thread.LastPostDate))</span>
                    </div>
                </div>
            </div>
        </div>
    }

}